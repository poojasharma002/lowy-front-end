$(document).ready(function() {
    $(".nav-link").removeClass("active");
    $(".tab-pane").removeClass("active");
    $(".tab-pane").removeClass("show");
    $('.categories').addClass("active");
    $('#categories').addClass("active");
    $('#categories').addClass("show");
    chnageLookupTable();
    createAlert('Opps!','Something went wrong','Plaese Contact to administrative.','danger',true,true,'errorMessages');
    createAlert('','Frame Categories!','update frame details complete.','success',true,true,'successMessages');
});
function chnageLookupTable(code, id){
    var lookupTable= $("#adminManageLookupablesChangeLookupable_lookupable").val();
    $('#adminManageLookupablesRef_type').val(lookupTable);
    var origin   = window.location.origin;
    $('#cover-spin').show(0);
     $.ajax({
        url:origin+"/Categories/action",
        method:"POST",
        data:{data_action:'get_reference_data', value:lookupTable},
        success:function(data){
          $('#cover-spin').hide(0); 
           var lookupData= $.parseJSON(data);
           // console.log(lookupData);
           if(typeof code==="undefined" && typeof id==="undefined"){
           $('#framePropertiesDetails tbody > tr').remove();
           $('#framePropertiesDetails tbody').append('<tr class="odd  selected">'+
                                    '<td class="first"><a href="'+origin+'/adminManageLookupablesView.action"></a></td>'+
                                    '<td class="last"><a href="'+origin+'/adminManageLookupablesView.action">Create New</a>'+
                                    '</td>'+
                                '</tr>');
            for(var i=0; i<lookupData.length; i++){
                if(i%2==0){var evenOdd='even'; }else{ var evenOdd='odd'; }   
                 $("#framePropertiesDetails  tbody").append('<tr class="'+evenOdd+'  " id="'+lookupData[i].id+'">'+
                                    '<td class="first"><a href="#" onclick="chnageLookupTable(\'' +lookupData[i].code+ '\', \'' +lookupData[i].id+ '\');">'+lookupData[i].code+'</a></td>'+
                                    '<td class="last"><a href="#" onclick="chnageLookupTable(\'' +lookupData[i].code+ '\', \'' +lookupData[i].id+ '\');">'+lookupData[i].title+'</a>'+
                                    '</td>'+
                                '</tr>');
                 } 
                }else{
                    $("tbody .odd").removeClass("selected");
                    $("#"+id).addClass("selected");
                    var filterLookupData = lookupData.filter(function(e) {
                            if(e.code== code && e.id==id){
                                return e;
                            }
                        });
                        console.log(filterLookupData[0].id);   
                        $('#adminManageLookupablesSave_id').val(filterLookupData[0].id)
                        $('#adminManageLookupablesSave_code').val(filterLookupData[0].code)
                       $('#adminManageLookupablesSave_title').val(filterLookupData[0].title)
                       $('#adminManageLookupablesSave_0').val('Save')
                }                   
            }
  })
}